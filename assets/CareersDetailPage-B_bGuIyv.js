import{a as k,u as D,r as t,j as e,L as p}from"./index-aN4DhRhX.js";import{a as S,b as L}from"./careersService-CTiZf0mJ.js";const T=()=>{const{id:c}=k(),{t:a}=D(),[i,u]=t.useState(null),[n,h]=t.useState({name:"",email:"",phone:"",coverLetter:""}),[d,g]=t.useState(null),[b,j]=t.useState(!1),[v,m]=t.useState(!1),[x,f]=t.useState(!1);t.useEffect(()=>{if(window.scrollTo(0,0),!c)return;(async()=>{try{m(!0);const s=await S(c);u(s||null)}catch(s){console.error("Gagal memuat detail job:",s),alert(s instanceof Error?s.message:"Gagal memuat detail lowongan dari server")}finally{m(!1)}})()},[c]);const o=r=>{const{name:s,value:l}=r.target;h(w=>({...w,[s]:l}))},N=r=>{var l;const s=((l=r.target.files)==null?void 0:l[0])||null;g(s)},y=async r=>{if(r.preventDefault(),!i||!d)return;const s={jobId:i.id,name:n.name,email:n.email,phone:n.phone,coverLetter:n.coverLetter||""};try{f(!0),await L(s,d),j(!0)}catch(l){console.error("Gagal mengirim lamaran:",l),alert(l instanceof Error?l.message:"Gagal mengirim lamaran pekerjaan ke server")}finally{f(!1)}};return b?e.jsxs("div",{className:"container mx-auto px-6 py-20 min-h-[60vh] flex flex-col justify-center items-center text-center animate-fade-in-up",children:[e.jsx("i",{className:"fa-solid fa-check-circle text-green-500 fa-4x w-16 h-16 mb-6","aria-hidden":"true"}),e.jsx("h1",{className:"text-4xl font-bold text-viniela-dark",children:a.careersDetail.applicationSuccessTitle}),e.jsx("p",{className:"mt-4 max-w-lg text-lg text-viniela-gray",children:a.careersDetail.applicationSuccessMessage}),e.jsx(p,{to:"/careers",className:"mt-8 px-6 py-3 bg-viniela-gold text-white font-semibold rounded-lg shadow-md hover:bg-viniela-gold-dark transition-all",children:a.careersDetail.backToCareers})]}):v?e.jsx("div",{className:"container mx-auto px-6 py-20 text-center min-h-[50vh]",children:a.careers.loading||"Memuat detail lowongan..."}):i?e.jsxs("div",{className:"bg-white animate-fade-in-up",children:[e.jsxs("div",{className:"container mx-auto px-6 py-12 max-w-4xl",children:[e.jsxs(p,{to:"/careers",className:"inline-flex items-center text-viniela-gray hover:text-viniela-gold transition-colors mb-8 group font-semibold",children:[e.jsx("i",{className:"fa-solid fa-chevron-left mr-2 transform group-hover:-translate-x-1 transition-transform","aria-hidden":"true"}),a.careersDetail.backToCareers]}),e.jsxs("header",{className:"mb-10 text-center border-b pb-8",children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-viniela-dark leading-tight",children:i.title.id}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-x-6 gap-y-2 text-viniela-gray mt-4",children:[e.jsxs("span",{className:"flex items-center text-lg",children:[e.jsx("i",{className:"fa-solid fa-briefcase w-5 h-5 mr-2","aria-hidden":"true"}),a.admin.jobTypes[i.type]]}),e.jsxs("span",{className:"flex items-center text-lg",children:[e.jsx("i",{className:"fa-solid fa-location-dot w-5 h-5 mr-2","aria-hidden":"true"}),i.location.id]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12",children:[e.jsxs("article",{className:"lg:col-span-2 space-y-10",children:[e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 bg-viniela-gold/10 text-viniela-gold rounded-lg p-3",children:e.jsx("i",{className:"fa-solid fa-file-lines fa-fw fa-xl"})}),e.jsx("h2",{className:"text-2xl font-bold text-viniela-dark",children:a.careersDetail.jobDescription})]}),e.jsx("div",{className:"prose prose-lg max-w-none text-viniela-gray pl-16",dangerouslySetInnerHTML:{__html:i.description.id}})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 bg-viniela-gold/10 text-viniela-gold rounded-lg p-3",children:e.jsx("i",{className:"fa-solid fa-list-check fa-fw fa-xl"})}),e.jsx("h2",{className:"text-2xl font-bold text-viniela-dark",children:a.careersDetail.responsibilities})]}),e.jsx("div",{className:"prose prose-lg max-w-none text-viniela-gray pl-16",dangerouslySetInnerHTML:{__html:i.responsibilities.id}})]}),e.jsxs("section",{children:[e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"flex-shrink-0 bg-viniela-gold/10 text-viniela-gold rounded-lg p-3",children:e.jsx("i",{className:"fa-solid fa-graduation-cap fa-fw fa-xl"})}),e.jsx("h2",{className:"text-2xl font-bold text-viniela-dark",children:a.careersDetail.qualifications})]}),e.jsx("div",{className:"prose prose-lg max-w-none text-viniela-gray pl-16",dangerouslySetInnerHTML:{__html:i.qualifications.id}})]})]}),e.jsx("aside",{className:"lg:col-span-1",children:e.jsxs("div",{className:"bg-viniela-silver p-6 rounded-xl shadow-md sticky top-28",children:[e.jsx("h3",{className:"text-2xl font-bold text-viniela-dark mb-4",children:a.careersDetail.applicationForm}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a.careersDetail.fullName}),e.jsx("input",{type:"text",name:"name",onChange:o,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a.careersDetail.email}),e.jsx("input",{type:"email",name:"email",onChange:o,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a.careersDetail.phone}),e.jsx("input",{type:"tel",name:"phone",onChange:o,className:"form-input",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a.careersDetail.resume}),e.jsx("input",{type:"file",onChange:N,accept:".pdf,.doc,.docx",className:"form-input file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-viniela-gold/10 file:text-viniela-gold hover:file:bg-viniela-gold/20",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.careersDetail.fileInfo})]}),e.jsxs("div",{children:[e.jsx("label",{className:"form-label",children:a.careersDetail.coverLetter}),e.jsx("textarea",{name:"coverLetter",rows:4,onChange:o,className:"form-input"})]}),e.jsx("button",{type:"submit",className:"w-full btn-primary mt-4",disabled:x,children:x?a.careersDetail.submitting||"Mengirim lamaran...":a.careersDetail.submitApplication})]})]})})]})]}),e.jsx("style",{children:`
        .form-label { display: block; margin-bottom: 0.25rem; font-size: 0.875rem; font-weight: 500; color: #4d4d4d; }
        .form-input { display: block; width: 100%; border-radius: 0.375rem; border: 1px solid #d1d5db; padding: 0.5rem 0.75rem; }
        .form-input:focus { outline: 2px solid transparent; outline-offset: 2px; border-color: #c09a58; box-shadow: 0 0 0 2px #c09a58; }
        .btn-primary { padding: 0.75rem 1.5rem; background-color: #c09a58; color: white; border-radius: 0.375rem; font-weight: 600; transition: background-color 0.2s; border: none; cursor: pointer; }
        .btn-primary:hover { background-color: #b08b49; }
        @keyframes fade-in-up { 0% { opacity: 0; transform: translateY(20px); } 100% { opacity: 1; transform: translateY(0); } }
        .animate-fade-in-up { animation: fade-in-up 0.5s ease-out forwards; }
        .prose ul > li::before { background-color: #c09a58; }
        .prose ol > li::before { color: #c09a58; font-weight: bold; }
      `})]}):e.jsx("div",{className:"container mx-auto px-6 py-20 text-center min-h-[50vh]",children:a.careersDetail.notFound})};export{T as default};
